{% extends 'base1.html' %}
{% block title %} Registration {% endblock %}
{% block content %}
<!-- Background with gradient & bubbles -->
<style>
  body {
    background-image: linear-gradient(-60deg, #16a085 0%, #f4d03f 100%);
    overflow: hidden;
  }
</style>



<!-- Centered card -->
<div class="d-flex justify-content-center align-items-center vh-100 px-3">
  <div class="card shadow-lg auth-card bg-white" style="max-width: 450px;">
    <div class="text-center mb-4">
      <img src="https://cdn-icons-png.flaticon.com/512/2966/2966485.png" alt="logo" class="mb-3 img-fluid"
        style="max-height: 70px;" />
      <h2 class="fw-bold text-success">Create Account</h2>
      <p class="text-muted small">Join us today, itâ€™s quick and easy!</p>
    </div>

    <form method="post" action="{{ url_for('register') }}">
      <div class="mb-3">
        <label class="form-label fw-semibold">Username</label>
        <input type="text" name="username" class="form-control rounded-pill" placeholder="Choose a username" required>
      </div>

      <div class="mb-3">
        <label class="form-label fw-semibold">Password</label>
        <div class="input-group">
          <input type="password" id="password" name="password" class="form-control rounded-start-pill"
            placeholder="Enter password" required>
          <button type="button" class="btn btn-outline-secondary rounded-end-pill" id="togglePassword">
            <i class="bi bi-eye-slash" id="toggleIcon1"></i>
          </button>
        </div>
      </div>

      <div class="mb-3">
        <label class="form-label fw-semibold">Confirm Password</label>
        <div class="input-group">
          <input type="password" id="confirm_password" name="confirm_password" class="form-control rounded-start-pill"
            placeholder="Re-enter password" required>
          <button type="button" class="btn btn-outline-secondary rounded-end-pill" id="toggleConfirmPassword">
            <i class="bi bi-eye-slash" id="toggleIcon2"></i>
          </button>
        </div>
      </div>

      <div class="d-grid gap-2 mt-4">
        <button type="submit" class="btn btn-success rounded-pill">
          <i class="bi bi-person-check"></i> Register
        </button>
        <a href="{{ url_for('home1') }}" class="btn btn-outline-secondary rounded-pill">
          <i class="bi bi-box-arrow-left"></i> Back to Login
        </a>
      </div>
    </form>

    {% if error %}
    <div class="alert alert-danger mt-3 text-center rounded-pill py-2">
      {{ error }}
    </div>
    {% endif %}
  </div>
</div>



<!-- JS for password toggle -->
<script>
  // Password toggle
  document.getElementById("togglePassword").addEventListener("click", function () {
    const input = document.getElementById("password");
    const icon = document.getElementById("toggleIcon1");
    if (input.type === "password") {
      input.type = "text";
      icon.classList.replace("bi-eye-slash", "bi-eye");
    } else {
      input.type = "password";
      icon.classList.replace("bi-eye", "bi-eye-slash");
    }
  });

  // Confirm Password toggle
  document.getElementById("toggleConfirmPassword").addEventListener("click", function () {
    const input = document.getElementById("confirm_password");
    const icon = document.getElementById("toggleIcon2");
    if (input.type === "password") {
      input.type = "text";
      icon.classList.replace("bi-eye-slash", "bi-eye");
    } else {
      input.type = "password";
      icon.classList.replace("bi-eye", "bi-eye-slash");
    }
  });
</script>
{% endblock %}